<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JS Object Demo</title>
</head>
<body>

<h1>Input Object Details</h1>
<textarea id="input" rows="20" cols="100">
{
  "id": "1",
  "name": "Jeans",
  "price": 49,
  "tags": ["S", "M", "L", "XL"],
  "product details":
    {
        "color": "blue",
        "item attrib": ["pant", "denim"]
    }
}
</textarea>
<br>
<button type="button" onclick="process()">Submit</button>

<h3>Output</h3>
<pre id="output"></pre>

<script src="product.js"></script>
<script>
    function process() {
        try {
            // read input
            const userInput = JSON.parse(document.getElementById("input").value);

            // map the fields
            const product = new Product({
                id: userInput.id,
                name: userInput.name,
                price: userInput.price,
                tags: userInput.tags,
                details: userInput["product details"]
            });

            // update
            const output = product.processUpdate();

            // print
            document.getElementById("output").textContent = JSON.stringify(output);
        } catch (ex) {
            document.getElementById("output").textContent = "Error: " + ex.message;
        }
    }
</script>

</body>
</html>
